# ğŸ¯ MongoDB Setup - Quick Reference Card

## âœ… STATUS: READY TO USE

Your backend is configured for **local MongoDB only** at:
```
mongodb://localhost:27017/niyzo
```

---

## ğŸš€ START IN 3 COMMANDS

```powershell
# 1. Start MongoDB
net start MongoDB

# 2. Start backend (in new terminal)
cd C:\Niyzo Project\server
node index.js

# 3. Test (in another terminal or browser)
curl -X POST http://localhost:4000/api/questions \
  -H "Content-Type: application/json" \
  -d '{"studentName":"Test","contact":"test@ex.com","subject":"JS","question":"test?"}'
```

---

## ğŸ“Š EXPECTED OUTPUT

### Server Startup
```
ğŸ”„ Connecting to MongoDB...
âœ… MongoDB Connected
   URI: mongodb://localhost:27017/niyzo
   Database: niyzo
   Status: Ready for data operations

============================================================
ğŸš€ API SERVER STARTED
============================================================
ğŸ“ Server: http://localhost:4000
ğŸ“Š Database: MongoDB (niyzo)
ğŸ“¬ Connection: mongodb://localhost:27017/niyzo
============================================================
```

### Data Submission
```
ğŸ“ Received new question submission:
   Student: Test
   Contact: test@ex.com (email)
   Subject: JS
âœ… Question saved to MongoDB:
   ID: 67abc123def456ghi789jk0
   Database: niyzo
   Collection: questions
```

---

## ğŸ”Œ CONNECTION DETAILS

| Property | Value |
|----------|-------|
| Host | localhost |
| Port | 27017 |
| Database | niyzo |
| Type | Local (no cloud) |
| URI | mongodb://localhost:27017/niyzo |

---

## ğŸ—„ï¸ COLLECTIONS CREATED

1. **questions** - Student form submissions
2. **mentors** - Mentor profiles (auto-seeded)
3. **professors** - Professor profiles

---

## ğŸ“ SAMPLE DATA SAVED

```json
{
  "_id": "67abc123...",
  "studentName": "John Doe",
  "contact": "john@example.com",
  "contactType": "email",
  "subject": "JavaScript",
  "question": "How do closures work?",
  "status": "New",
  "createdAt": "2026-01-28T10:30:00Z",
  "updatedAt": "2026-01-28T10:30:00Z"
}
```

---

## ğŸ” VIEW DATA

### MongoDB Compass
1. Open Compass â†’ Connect â†’ Browse to `niyzo` â†’ `questions`

### mongosh
```bash
mongosh
use niyzo
db.questions.find().pretty()
```

---

## ğŸ› ï¸ TROUBLESHOOT

### MongoDB not running?
```powershell
net start MongoDB
```

### Can't connect?
```powershell
# Check status
Get-Service MongoDB

# Verify port
netstat -ano | findstr :27017

# Test connection
mongosh --host localhost --port 27017
```

### Server won't start?
1. Ensure MongoDB is running first
2. Check no other app uses port 4000
3. Check `server/index.js` for syntax errors

---

## ğŸ“ KEY FILES

| File | Change |
|------|--------|
| `server/index.js` | âœ… MongoDB config updated |
| `server/.env` | (Optional) Can set `MONGODB_URI` |

---

## ğŸ’¾ DATA PERSISTENCE

- **Stored at**: `C:\data\db` (or MongoDB default)
- **Persists**: After server restarts
- **Backup**: Use `mongodump --db niyzo`
- **Restore**: Use `mongorestore --db niyzo`

---

## ğŸ¯ FEATURES WORKING

âœ… Backend connects to local MongoDB
âœ… Form data validated before save
âœ… Data normalized (lowercase, digits-only)
âœ… Contact type tracked (email/mobile)
âœ… Fake numbers blocked (1234567890, etc)
âœ… Console logs confirm saves
âœ… Data persists permanently

---

## ğŸ“ USEFUL COMMANDS

```powershell
# Start/Stop
net start MongoDB
net stop MongoDB

# Check Status
Get-Service MongoDB

# Connect
mongosh

# Backup
mongodump --db niyzo --out C:\backup

# Restore
mongorestore --db niyzo C:\backup\niyzo
```

---

## ğŸ‰ YOU'RE READY!

âœ… MongoDB configured (local only)
âœ… Backend connected and logging
âœ… Data validation active
âœ… Persistence enabled

Start your server and begin saving data! ğŸš€

---

**Last Updated**: January 28, 2026
**Configuration Type**: Development (Local MongoDB)
**Database**: niyzo
**Status**: âœ… READY
